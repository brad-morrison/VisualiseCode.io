{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Unity = void 0;\nvar react_1 = require(\"react\");\nvar react_2 = require(\"react\");\nvar use_unity_instance_1 = require(\"../hooks/use-unity-instance\");\nvar use_unity_loader_1 = require(\"../hooks/use-unity-loader\");\nvar generate_unity_instance_parameters_1 = require(\"../utils/generate-unity-instance-parameters\");\n/**\n * A unique instance identifier for each mounted Unity Instance.\n */\nvar unityInstanceIdentifier = 0;\n/**\n * Renders the Unity Instance to the React DOM.\n * @param props Properties of the Unity Component.\n * @returns A React Element.\n */\nfunction Unity(props) {\n  var htmlCanvasElement = (0, react_2.useRef)(null);\n  var unityContext = (0, react_2.useState)(props.unityContext)[0];\n  var unityInstanceParameters = (0, generate_unity_instance_parameters_1.generateUnityInstanceParameters)(unityContext, props);\n  // The Unity Loader is required for the unity instance to be created.\n  var unityLoaderStatus = (0, use_unity_loader_1.useUnityLoader)(unityContext.unityConfig.loaderUrl);\n  // Creates the Unity Instance while defining a set of hooks which indicate\n  // whether the Unity Instance is ready to be used among with its progression.\n  var _a = (0, use_unity_instance_1.useUnityInstance)(unityLoaderStatus, htmlCanvasElement.current, unityInstanceParameters),\n    unityInstance = _a.unityInstance,\n    progression = _a.progression,\n    error = _a.error;\n  // Effect hook will be called when the Unity instance changes.\n  (0, react_2.useEffect)(function () {\n    // If the Unity Instance has been defined, it will be passed to the\n    // Unity Context.\n    if (unityInstance !== null) {\n      unityContext.unityInstance = unityInstance;\n    }\n  }, [unityInstance]);\n  // Effect hook will be called when the reference to the canvas changes.\n  (0, react_2.useEffect)(function () {\n    // Whether or not the canvas has been defined, it will be set as the\n    // current html canvas element on the Unity Context.\n    unityContext.htmlCanvasElement = htmlCanvasElement.current;\n  }, [htmlCanvasElement]);\n  // Effect hook will be called when the Unity Instance progession changes.\n  (0, react_2.useEffect)(function () {\n    // If the Unity Instance loading progression hits 1, then this means that\n    //the Unity Instance is initialized successfully and is ready to be used.\n    if (progression === 1) {\n      // When the application is loaded, we'll send over a reference to the\n      // canvas element. When the HTML Canvas Element ref is defined, an event\n      // will be dispatched.\n      if (htmlCanvasElement.current !== null) {\n        unityContext.dispatchEvent(\"canvas\", htmlCanvasElement.current);\n      }\n      // The loaded event is dispatched.\n      unityContext.dispatchEvent(\"loaded\");\n    }\n    // Dispatches an event every time the Unity Instance progression changes.\n    unityContext.dispatchEvent(\"progress\", progression);\n  }, [progression]);\n  // Effect hook will be called when the Unity Instance threw an error.\n  (0, react_2.useEffect)(function () {\n    // If the Unity Instance threw an error, then the error event is\n    // dispatched.\n    if (error !== null) {\n      unityContext.dispatchEvent(\"error\", error);\n    }\n  }, [error]);\n  // Event hook will be called when the component mounts and unmounts.\n  (0, react_2.useEffect)(function () {\n    // Each time a component is mounted, the Unity Context identifier is\n    // incremented to ensure that each component is referenced correctly.\n    unityInstanceIdentifier++;\n    return function () {\n      // If the Unity Instance is defined, Quit will be invoked on the Unity\n      // Instance. This removes the Unity Loader and Framework from memory.\n      unityContext === null || unityContext === void 0 ? void 0 : unityContext.quitUnityInstance();\n    };\n  }, []);\n  // Renders the actual canvas element which Unity will use to render.\n  return (0, react_1.createElement)(\"canvas\", {\n    // Unity 2021.2 and above requires a unique identifier for each canvas\n    // internally. This is not documented in the Unity documentation, but\n    // it is required for the canvas to be rendered. This is further explained\n    // in https://github.com/jeffreylanters/react-unity-webgl/issues/223.\n    id: \"unity-canvas-\".concat(unityInstanceIdentifier),\n    // A reference to the canvas element is required to create a Unity Instance.\n    ref: htmlCanvasElement,\n    // Push through of some properties.\n    className: props.className || undefined,\n    style: props.style || {},\n    tabIndex: props.tabIndex || undefined\n  });\n}\nexports.Unity = Unity;","map":{"version":3,"names":["Object","defineProperty","exports","value","Unity","react_1","require","react_2","use_unity_instance_1","use_unity_loader_1","generate_unity_instance_parameters_1","unityInstanceIdentifier","props","htmlCanvasElement","useRef","unityContext","useState","unityInstanceParameters","generateUnityInstanceParameters","unityLoaderStatus","useUnityLoader","unityConfig","loaderUrl","_a","useUnityInstance","current","unityInstance","progression","error","useEffect","dispatchEvent","quitUnityInstance","createElement","id","concat","ref","className","undefined","style","tabIndex"],"sources":["/Users/brad/Documents/GitHub/MScProject/node_modules/react-unity-webgl/distribution/components/unity.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Unity = void 0;\nvar react_1 = require(\"react\");\nvar react_2 = require(\"react\");\nvar use_unity_instance_1 = require(\"../hooks/use-unity-instance\");\nvar use_unity_loader_1 = require(\"../hooks/use-unity-loader\");\nvar generate_unity_instance_parameters_1 = require(\"../utils/generate-unity-instance-parameters\");\n/**\n * A unique instance identifier for each mounted Unity Instance.\n */\nvar unityInstanceIdentifier = 0;\n/**\n * Renders the Unity Instance to the React DOM.\n * @param props Properties of the Unity Component.\n * @returns A React Element.\n */\nfunction Unity(props) {\n    var htmlCanvasElement = (0, react_2.useRef)(null);\n    var unityContext = (0, react_2.useState)(props.unityContext)[0];\n    var unityInstanceParameters = (0, generate_unity_instance_parameters_1.generateUnityInstanceParameters)(unityContext, props);\n    // The Unity Loader is required for the unity instance to be created.\n    var unityLoaderStatus = (0, use_unity_loader_1.useUnityLoader)(unityContext.unityConfig.loaderUrl);\n    // Creates the Unity Instance while defining a set of hooks which indicate\n    // whether the Unity Instance is ready to be used among with its progression.\n    var _a = (0, use_unity_instance_1.useUnityInstance)(unityLoaderStatus, htmlCanvasElement.current, unityInstanceParameters), unityInstance = _a.unityInstance, progression = _a.progression, error = _a.error;\n    // Effect hook will be called when the Unity instance changes.\n    (0, react_2.useEffect)(function () {\n        // If the Unity Instance has been defined, it will be passed to the\n        // Unity Context.\n        if (unityInstance !== null) {\n            unityContext.unityInstance = unityInstance;\n        }\n    }, [unityInstance]);\n    // Effect hook will be called when the reference to the canvas changes.\n    (0, react_2.useEffect)(function () {\n        // Whether or not the canvas has been defined, it will be set as the\n        // current html canvas element on the Unity Context.\n        unityContext.htmlCanvasElement = htmlCanvasElement.current;\n    }, [htmlCanvasElement]);\n    // Effect hook will be called when the Unity Instance progession changes.\n    (0, react_2.useEffect)(function () {\n        // If the Unity Instance loading progression hits 1, then this means that\n        //the Unity Instance is initialized successfully and is ready to be used.\n        if (progression === 1) {\n            // When the application is loaded, we'll send over a reference to the\n            // canvas element. When the HTML Canvas Element ref is defined, an event\n            // will be dispatched.\n            if (htmlCanvasElement.current !== null) {\n                unityContext.dispatchEvent(\"canvas\", htmlCanvasElement.current);\n            }\n            // The loaded event is dispatched.\n            unityContext.dispatchEvent(\"loaded\");\n        }\n        // Dispatches an event every time the Unity Instance progression changes.\n        unityContext.dispatchEvent(\"progress\", progression);\n    }, [progression]);\n    // Effect hook will be called when the Unity Instance threw an error.\n    (0, react_2.useEffect)(function () {\n        // If the Unity Instance threw an error, then the error event is\n        // dispatched.\n        if (error !== null) {\n            unityContext.dispatchEvent(\"error\", error);\n        }\n    }, [error]);\n    // Event hook will be called when the component mounts and unmounts.\n    (0, react_2.useEffect)(function () {\n        // Each time a component is mounted, the Unity Context identifier is\n        // incremented to ensure that each component is referenced correctly.\n        unityInstanceIdentifier++;\n        return function () {\n            // If the Unity Instance is defined, Quit will be invoked on the Unity\n            // Instance. This removes the Unity Loader and Framework from memory.\n            unityContext === null || unityContext === void 0 ? void 0 : unityContext.quitUnityInstance();\n        };\n    }, []);\n    // Renders the actual canvas element which Unity will use to render.\n    return (0, react_1.createElement)(\"canvas\", {\n        // Unity 2021.2 and above requires a unique identifier for each canvas\n        // internally. This is not documented in the Unity documentation, but\n        // it is required for the canvas to be rendered. This is further explained\n        // in https://github.com/jeffreylanters/react-unity-webgl/issues/223.\n        id: \"unity-canvas-\".concat(unityInstanceIdentifier),\n        // A reference to the canvas element is required to create a Unity Instance.\n        ref: htmlCanvasElement,\n        // Push through of some properties.\n        className: props.className || undefined,\n        style: props.style || {},\n        tabIndex: props.tabIndex || undefined,\n    });\n}\nexports.Unity = Unity;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}