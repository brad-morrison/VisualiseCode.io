{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FileUpload = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _Button = require(\"../button/Button\");\n\nvar _Messages = require(\"../messages/Messages\");\n\nvar _ProgressBar = require(\"../progressbar/ProgressBar\");\n\nvar _DomHandler = _interopRequireDefault(require(\"../utils/DomHandler\"));\n\nvar _ClassNames = require(\"../utils/ClassNames\");\n\nvar _Ripple = require(\"../ripple/Ripple\");\n\nvar _ObjectUtils = _interopRequireDefault(require(\"../utils/ObjectUtils\"));\n\nvar _Locale = require(\"../api/Locale\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar FileUpload = /*#__PURE__*/function (_Component) {\n  _inherits(FileUpload, _Component);\n\n  var _super = _createSuper(FileUpload);\n\n  function FileUpload(props) {\n    var _this;\n\n    _classCallCheck(this, FileUpload);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      files: [],\n      msgs: [],\n      focused: false\n    };\n    _this.choose = _this.choose.bind(_assertThisInitialized(_this));\n    _this.upload = _this.upload.bind(_assertThisInitialized(_this));\n    _this.clear = _this.clear.bind(_assertThisInitialized(_this));\n    _this.onFileSelect = _this.onFileSelect.bind(_assertThisInitialized(_this));\n    _this.onDragEnter = _this.onDragEnter.bind(_assertThisInitialized(_this));\n    _this.onDragOver = _this.onDragOver.bind(_assertThisInitialized(_this));\n    _this.onDragLeave = _this.onDragLeave.bind(_assertThisInitialized(_this));\n    _this.onDrop = _this.onDrop.bind(_assertThisInitialized(_this));\n    _this.onKeyDown = _this.onKeyDown.bind(_assertThisInitialized(_this));\n    _this.onFocus = _this.onFocus.bind(_assertThisInitialized(_this));\n    _this.onBlur = _this.onBlur.bind(_assertThisInitialized(_this));\n    _this.onSimpleUploaderClick = _this.onSimpleUploaderClick.bind(_assertThisInitialized(_this));\n    _this.duplicateIEEvent = false;\n    return _this;\n  }\n\n  _createClass(FileUpload, [{\n    key: \"hasFiles\",\n    value: function hasFiles() {\n      return this.state.files && this.state.files.length > 0;\n    }\n  }, {\n    key: \"isImage\",\n    value: function isImage(file) {\n      return /^image\\//.test(file.type);\n    }\n  }, {\n    key: \"chooseDisabled\",\n    value: function chooseDisabled() {\n      return this.props.disabled || this.props.fileLimit && this.props.fileLimit <= this.state.files.length + this.uploadedFileCount;\n    }\n  }, {\n    key: \"uploadDisabled\",\n    value: function uploadDisabled() {\n      return this.props.disabled || !this.hasFiles();\n    }\n  }, {\n    key: \"cancelDisabled\",\n    value: function cancelDisabled() {\n      return this.props.disabled || !this.hasFiles();\n    }\n  }, {\n    key: \"chooseButtonLabel\",\n    value: function chooseButtonLabel() {\n      return this.props.chooseLabel || this.props.chooseOptions.label || (0, _Locale.localeOption)('choose');\n    }\n  }, {\n    key: \"uploadButtonLabel\",\n    value: function uploadButtonLabel() {\n      return this.props.uploadLabel || this.props.uploadOptions.label || (0, _Locale.localeOption)('upload');\n    }\n  }, {\n    key: \"cancelButtonLabel\",\n    value: function cancelButtonLabel() {\n      return this.props.cancelLabel || this.props.cancelOptions.label || (0, _Locale.localeOption)('cancel');\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(event, index) {\n      this.clearInputElement();\n\n      var currentFiles = _toConsumableArray(this.state.files);\n\n      var removedFile = this.state.files[index];\n      currentFiles.splice(index, 1);\n      this.setState({\n        files: currentFiles\n      });\n\n      if (this.props.onRemove) {\n        this.props.onRemove({\n          originalEvent: event,\n          file: removedFile\n        });\n      }\n    }\n  }, {\n    key: \"clearInputElement\",\n    value: function clearInputElement() {\n      this.fileInput.value = '';\n    }\n  }, {\n    key: \"clearIEInput\",\n    value: function clearIEInput() {\n      if (this.fileInput) {\n        this.duplicateIEEvent = true; //IE11 fix to prevent onFileChange trigger again\n\n        this.fileInput.value = '';\n      }\n    }\n  }, {\n    key: \"formatSize\",\n    value: function formatSize(bytes) {\n      if (bytes === 0) {\n        return '0 B';\n      }\n\n      var k = 1000,\n          dm = 3,\n          sizes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n          i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n    }\n  }, {\n    key: \"onFileSelect\",\n    value: function onFileSelect(event) {\n      var _this2 = this;\n\n      if (event.type !== 'drop' && this.isIE11() && this.duplicateIEEvent) {\n        this.duplicateIEEvent = false;\n        return;\n      }\n\n      this.setState({\n        msgs: []\n      });\n      this.files = this.state.files || [];\n      var files = event.dataTransfer ? event.dataTransfer.files : event.target.files;\n\n      for (var i = 0; i < files.length; i++) {\n        var file = files[i];\n\n        if (!this.isFileSelected(file)) {\n          if (this.validate(file)) {\n            if (this.isImage(file)) {\n              file.objectURL = window.URL.createObjectURL(file);\n            }\n\n            this.files.push(file);\n          }\n        }\n      }\n\n      this.setState({\n        files: this.files\n      }, function () {\n        if (_this2.hasFiles() && _this2.props.auto) {\n          _this2.upload();\n        }\n      });\n\n      if (this.props.onSelect) {\n        this.props.onSelect({\n          originalEvent: event,\n          files: files\n        });\n      }\n\n      if (event.type !== 'drop' && this.isIE11()) {\n        this.clearIEInput();\n      } else {\n        this.clearInputElement();\n      }\n\n      if (this.props.mode === 'basic' && this.files.length > 0) {\n        this.fileInput.style.display = 'none';\n      }\n    }\n  }, {\n    key: \"isFileSelected\",\n    value: function isFileSelected(file) {\n      var _iterator = _createForOfIteratorHelper(this.state.files),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var sFile = _step.value;\n          if (sFile.name + sFile.type + sFile.size === file.name + file.type + file.size) return true;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return false;\n    }\n  }, {\n    key: \"isIE11\",\n    value: function isIE11() {\n      return !!window['MSInputMethodContext'] && !!document['documentMode'];\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(file) {\n      if (this.props.maxFileSize && file.size > this.props.maxFileSize) {\n        var message = {\n          severity: 'error',\n          summary: this.props.invalidFileSizeMessageSummary.replace('{0}', file.name),\n          detail: this.props.invalidFileSizeMessageDetail.replace('{0}', this.formatSize(this.props.maxFileSize))\n        };\n\n        if (this.props.mode === 'advanced') {\n          this.messagesUI.show(message);\n        }\n\n        if (this.props.onValidationFail) {\n          this.props.onValidationFail(file);\n        }\n\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"upload\",\n    value: function upload() {\n      var _this3 = this;\n\n      if (this.props.customUpload) {\n        if (this.props.fileLimit) {\n          this.uploadedFileCount += this.state.files.length;\n        }\n\n        if (this.props.uploadHandler) {\n          this.props.uploadHandler({\n            files: this.state.files\n          });\n        }\n      } else {\n        this.setState({\n          msgs: []\n        });\n        var xhr = new XMLHttpRequest();\n        var formData = new FormData();\n\n        if (this.props.onBeforeUpload) {\n          this.props.onBeforeUpload({\n            'xhr': xhr,\n            'formData': formData\n          });\n        }\n\n        var _iterator2 = _createForOfIteratorHelper(this.state.files),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var file = _step2.value;\n            formData.append(this.props.name, file, file.name);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        xhr.upload.addEventListener('progress', function (event) {\n          if (event.lengthComputable) {\n            _this3.setState({\n              progress: Math.round(event.loaded * 100 / event.total)\n            }, function () {\n              if (_this3.props.onProgress) {\n                _this3.props.onProgress({\n                  originalEvent: event,\n                  progress: _this3.state.progress\n                });\n              }\n\n              ;\n            });\n          }\n        });\n\n        xhr.onreadystatechange = function () {\n          if (xhr.readyState === 4) {\n            _this3.setState({\n              progress: 0\n            });\n\n            if (xhr.status >= 200 && xhr.status < 300) {\n              if (_this3.props.fileLimit) {\n                _this3.uploadedFileCount += _this3.state.files.length;\n              }\n\n              if (_this3.props.onUpload) {\n                _this3.props.onUpload({\n                  xhr: xhr,\n                  files: _this3.state.files\n                });\n              }\n            } else {\n              if (_this3.props.onError) {\n                _this3.props.onError({\n                  xhr: xhr,\n                  files: _this3.state.files\n                });\n              }\n            }\n\n            _this3.clear();\n          }\n        };\n\n        xhr.open('POST', this.props.url, true);\n\n        if (this.props.onBeforeSend) {\n          this.props.onBeforeSend({\n            'xhr': xhr,\n            'formData': formData\n          });\n        }\n\n        xhr.withCredentials = this.props.withCredentials;\n        xhr.send(formData);\n      }\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.setState({\n        files: []\n      });\n\n      if (this.props.onClear) {\n        this.props.onClear();\n      }\n\n      this.clearInputElement();\n    }\n  }, {\n    key: \"choose\",\n    value: function choose() {\n      this.fileInput.click();\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus() {\n      this.setState({\n        focused: true\n      });\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur() {\n      this.setState({\n        focused: false\n      });\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(event) {\n      if (event.which === 13) {\n        // enter\n        this.choose();\n      }\n    }\n  }, {\n    key: \"onDragEnter\",\n    value: function onDragEnter(event) {\n      if (!this.props.disabled) {\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"onDragOver\",\n    value: function onDragOver(event) {\n      if (!this.props.disabled) {\n        _DomHandler.default.addClass(this.content, 'p-fileupload-highlight');\n\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"onDragLeave\",\n    value: function onDragLeave(event) {\n      if (!this.props.disabled) {\n        _DomHandler.default.removeClass(this.content, 'p-fileupload-highlight');\n      }\n    }\n  }, {\n    key: \"onDrop\",\n    value: function onDrop(event) {\n      if (!this.props.disabled) {\n        _DomHandler.default.removeClass(this.content, 'p-fileupload-highlight');\n\n        event.stopPropagation();\n        event.preventDefault();\n        var files = event.dataTransfer ? event.dataTransfer.files : event.target.files;\n        var allowDrop = this.props.multiple || files && files.length === 1;\n\n        if (allowDrop) {\n          this.onFileSelect(event);\n        }\n      }\n    }\n  }, {\n    key: \"onSimpleUploaderClick\",\n    value: function onSimpleUploaderClick() {\n      if (this.hasFiles()) {\n        this.upload();\n      } else {\n        this.fileInput.click();\n      }\n    }\n  }, {\n    key: \"renderChooseButton\",\n    value: function renderChooseButton() {\n      var _this4 = this;\n\n      var _this$props$chooseOpt = this.props.chooseOptions,\n          className = _this$props$chooseOpt.className,\n          style = _this$props$chooseOpt.style,\n          icon = _this$props$chooseOpt.icon,\n          iconOnly = _this$props$chooseOpt.iconOnly;\n      var chooseClassName = (0, _ClassNames.classNames)('p-button p-fileupload-choose p-component', {\n        'p-disabled': this.props.disabled,\n        'p-focus': this.state.focused,\n        'p-button-icon-only': iconOnly\n      }, className);\n      var chooseIconClassName = (0, _ClassNames.classNames)('p-button-icon p-button-icon-left p-clickable', {\n        'pi pi-fw pi-plus': !icon\n      }, icon);\n      var labelClassName = 'p-button-label p-clickable';\n      var label = iconOnly ? /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: labelClassName,\n        dangerouslySetInnerHTML: {\n          __html: \"&nbsp;\"\n        }\n      }) : /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: labelClassName\n      }, this.chooseButtonLabel());\n      return /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: chooseClassName,\n        style: style,\n        onClick: this.choose,\n        onKeyDown: this.onKeyDown,\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        tabIndex: 0\n      }, /*#__PURE__*/_react.default.createElement(\"input\", {\n        ref: function ref(el) {\n          return _this4.fileInput = el;\n        },\n        type: \"file\",\n        onChange: this.onFileSelect,\n        multiple: this.props.multiple,\n        accept: this.props.accept,\n        disabled: this.chooseDisabled()\n      }), /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: chooseIconClassName\n      }), label, /*#__PURE__*/_react.default.createElement(_Ripple.Ripple, null));\n    }\n  }, {\n    key: \"renderFile\",\n    value: function renderFile(file, index) {\n      var _this5 = this;\n\n      var preview = this.isImage(file) ? /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(\"img\", {\n        alt: file.name,\n        role: \"presentation\",\n        src: file.objectURL,\n        width: this.props.previewWidth\n      })) : null;\n\n      var fileName = /*#__PURE__*/_react.default.createElement(\"div\", null, file.name);\n\n      var size = /*#__PURE__*/_react.default.createElement(\"div\", null, this.formatSize(file.size));\n\n      var removeButton = /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(_Button.Button, {\n        type: \"button\",\n        icon: \"pi pi-times\",\n        onClick: function onClick(e) {\n          return _this5.remove(e, index);\n        }\n      }));\n\n      var content = /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, preview, fileName, size, removeButton);\n\n      if (this.props.itemTemplate) {\n        var defaultContentOptions = {\n          onRemove: function onRemove(event) {\n            return _this5.remove(event, index);\n          },\n          previewElement: preview,\n          fileNameElement: fileName,\n          sizeElement: size,\n          removeElement: removeButton,\n          formatSize: this.formatSize(file.size),\n          element: content,\n          props: this.props\n        };\n        content = _ObjectUtils.default.getJSXElement(this.props.itemTemplate, file, defaultContentOptions);\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"p-fileupload-row\",\n        key: file.name + file.type + file.size\n      }, content);\n    }\n  }, {\n    key: \"renderFiles\",\n    value: function renderFiles() {\n      var _this6 = this;\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"p-fileupload-files\"\n      }, this.state.files.map(function (file, index) {\n        return _this6.renderFile(file, index);\n      }));\n    }\n  }, {\n    key: \"renderEmptyContent\",\n    value: function renderEmptyContent() {\n      if (this.props.emptyTemplate && !this.hasFiles()) {\n        return _ObjectUtils.default.getJSXElement(this.props.emptyTemplate, this.props);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderAdvanced\",\n    value: function renderAdvanced() {\n      var _this7 = this;\n\n      var className = (0, _ClassNames.classNames)('p-fileupload p-fileupload-advanced p-component', this.props.className);\n      var headerClassName = (0, _ClassNames.classNames)('p-fileupload-buttonbar', this.props.headerClassName);\n      var contentClassName = (0, _ClassNames.classNames)('p-fileupload-content', this.props.contentClassName);\n      var uploadButton, cancelButton, filesList, progressBar;\n      var chooseButton = this.renderChooseButton();\n      var emptyContent = this.renderEmptyContent();\n\n      if (!this.props.auto) {\n        var uploadOptions = this.props.uploadOptions;\n        var cancelOptions = this.props.cancelOptions;\n        var uploadLabel = !uploadOptions.iconOnly ? this.uploadButtonLabel() : '';\n        var cancelLabel = !cancelOptions.iconOnly ? this.cancelButtonLabel() : '';\n        uploadButton = /*#__PURE__*/_react.default.createElement(_Button.Button, {\n          type: \"button\",\n          label: uploadLabel,\n          icon: uploadOptions.icon || 'pi pi-upload',\n          onClick: this.upload,\n          disabled: this.uploadDisabled(),\n          style: uploadOptions.style,\n          className: uploadOptions.className\n        });\n        cancelButton = /*#__PURE__*/_react.default.createElement(_Button.Button, {\n          type: \"button\",\n          label: cancelLabel,\n          icon: cancelOptions.icon || 'pi pi-times',\n          onClick: this.clear,\n          disabled: this.cancelDisabled(),\n          style: cancelOptions.style,\n          className: cancelOptions.className\n        });\n      }\n\n      if (this.hasFiles()) {\n        filesList = this.renderFiles();\n        progressBar = /*#__PURE__*/_react.default.createElement(_ProgressBar.ProgressBar, {\n          value: this.state.progress,\n          showValue: false\n        });\n      }\n\n      var header = /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: headerClassName,\n        style: this.props.headerStyle\n      }, chooseButton, uploadButton, cancelButton);\n\n      if (this.props.headerTemplate) {\n        var defaultContentOptions = {\n          className: headerClassName,\n          chooseButton: chooseButton,\n          uploadButton: uploadButton,\n          cancelButton: cancelButton,\n          element: header,\n          props: this.props\n        };\n        header = _ObjectUtils.default.getJSXElement(this.props.headerTemplate, defaultContentOptions);\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        id: this.props.id,\n        className: className,\n        style: this.props.style\n      }, header, /*#__PURE__*/_react.default.createElement(\"div\", {\n        ref: function ref(el) {\n          _this7.content = el;\n        },\n        className: contentClassName,\n        style: this.props.contentStyle,\n        onDragEnter: this.onDragEnter,\n        onDragOver: this.onDragOver,\n        onDragLeave: this.onDragLeave,\n        onDrop: this.onDrop\n      }, progressBar, /*#__PURE__*/_react.default.createElement(_Messages.Messages, {\n        ref: function ref(el) {\n          return _this7.messagesUI = el;\n        }\n      }), filesList, emptyContent));\n    }\n  }, {\n    key: \"renderBasic\",\n    value: function renderBasic() {\n      var _this8 = this;\n\n      var chooseOptions = this.props.chooseOptions;\n      var className = (0, _ClassNames.classNames)('p-fileupload p-fileupload-basic p-component', this.props.className);\n      var buttonClassName = (0, _ClassNames.classNames)('p-button p-component p-fileupload-choose', {\n        'p-fileupload-choose-selected': this.hasFiles(),\n        'p-disabled': this.props.disabled,\n        'p-focus': this.state.focused\n      }, chooseOptions.className);\n      var iconClassName = (0, _ClassNames.classNames)('p-button-icon p-button-icon-left pi', {\n        'pi-plus': !chooseOptions.icon && (!this.hasFiles() || this.props.auto),\n        'pi-upload': !chooseOptions.icon && this.hasFiles() && !this.props.auto\n      }, chooseOptions.icon);\n      var labelClassName = 'p-button-label p-clickable';\n      var chooseLabel = chooseOptions.iconOnly ? /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: labelClassName,\n        dangerouslySetInnerHTML: {\n          __html: \"&nbsp;\"\n        }\n      }) : /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: labelClassName\n      }, this.chooseButtonLabel());\n      var label = this.props.auto ? chooseLabel : /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: labelClassName\n      }, this.hasFiles() ? this.state.files[0].name : chooseLabel);\n\n      var icon = /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: iconClassName\n      });\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: className,\n        style: this.props.style\n      }, /*#__PURE__*/_react.default.createElement(_Messages.Messages, {\n        ref: function ref(el) {\n          return _this8.messagesUI = el;\n        }\n      }), /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: buttonClassName,\n        style: chooseOptions.style,\n        onMouseUp: this.onSimpleUploaderClick,\n        onKeyDown: this.onKeyDown,\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        tabIndex: 0\n      }, icon, label, !this.hasFiles() && /*#__PURE__*/_react.default.createElement(\"input\", {\n        ref: function ref(el) {\n          return _this8.fileInput = el;\n        },\n        type: \"file\",\n        accept: this.props.accept,\n        multiple: this.props.multiple,\n        disabled: this.props.disabled,\n        onChange: this.onFileSelect\n      }), /*#__PURE__*/_react.default.createElement(_Ripple.Ripple, null)));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.mode === 'advanced') return this.renderAdvanced();else if (this.props.mode === 'basic') return this.renderBasic();\n    }\n  }]);\n\n  return FileUpload;\n}(_react.Component);\n\nexports.FileUpload = FileUpload;\n\n_defineProperty(FileUpload, \"defaultProps\", {\n  id: null,\n  name: null,\n  url: null,\n  mode: 'advanced',\n  multiple: false,\n  accept: null,\n  disabled: false,\n  auto: false,\n  maxFileSize: null,\n  invalidFileSizeMessageSummary: '{0}: Invalid file size, ',\n  invalidFileSizeMessageDetail: 'maximum upload size is {0}.',\n  style: null,\n  className: null,\n  widthCredentials: false,\n  previewWidth: 50,\n  chooseLabel: null,\n  uploadLabel: null,\n  cancelLabel: null,\n  chooseOptions: {\n    label: null,\n    icon: null,\n    iconOnly: false,\n    className: null,\n    style: null\n  },\n  uploadOptions: {\n    label: null,\n    icon: null,\n    iconOnly: false,\n    className: null,\n    style: null\n  },\n  cancelOptions: {\n    label: null,\n    icon: null,\n    iconOnly: false,\n    className: null,\n    style: null\n  },\n  customUpload: false,\n  headerClassName: null,\n  headerStyle: null,\n  contentClassName: null,\n  contentStyle: null,\n  headerTemplate: null,\n  itemTemplate: null,\n  emptyTemplate: null,\n  onBeforeUpload: null,\n  onBeforeSend: null,\n  onUpload: null,\n  onError: null,\n  onClear: null,\n  onSelect: null,\n  onProgress: null,\n  onValidationFail: null,\n  uploadHandler: null,\n  onRemove: null\n});\n\n_defineProperty(FileUpload, \"propTypes\", {\n  id: _propTypes.default.string,\n  name: _propTypes.default.string,\n  url: _propTypes.default.string,\n  mode: _propTypes.default.string,\n  multiple: _propTypes.default.bool,\n  accept: _propTypes.default.string,\n  disabled: _propTypes.default.bool,\n  auto: _propTypes.default.bool,\n  maxFileSize: _propTypes.default.number,\n  invalidFileSizeMessageSummary: _propTypes.default.string,\n  invalidFileSizeMessageDetail: _propTypes.default.string,\n  style: _propTypes.default.object,\n  className: _propTypes.default.string,\n  widthCredentials: _propTypes.default.bool,\n  previewWidth: _propTypes.default.number,\n  chooseLabel: _propTypes.default.string,\n  uploadLabel: _propTypes.default.string,\n  cancelLabel: _propTypes.default.string,\n  chooseOptions: _propTypes.default.object,\n  uploadOptions: _propTypes.default.object,\n  cancelOptions: _propTypes.default.object,\n  customUpload: _propTypes.default.bool,\n  headerClassName: _propTypes.default.string,\n  headerStyle: _propTypes.default.object,\n  contentClassName: _propTypes.default.string,\n  contentStyle: _propTypes.default.object,\n  headerTemplate: _propTypes.default.any,\n  itemTemplate: _propTypes.default.any,\n  emptyTemplate: _propTypes.default.any,\n  onBeforeUpload: _propTypes.default.func,\n  onBeforeSend: _propTypes.default.func,\n  onUpload: _propTypes.default.func,\n  onError: _propTypes.default.func,\n  onClear: _propTypes.default.func,\n  onSelect: _propTypes.default.func,\n  onProgress: _propTypes.default.func,\n  onValidationFail: _propTypes.default.func,\n  uploadHandler: _propTypes.default.func,\n  onRemove: _propTypes.default.func\n});","map":{"version":3,"sources":["/Users/bradleymorrison/MSC/freya-react-1/node_modules/primereact/components/fileupload/FileUpload.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","FileUpload","_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_Button","_Messages","_ProgressBar","_DomHandler","_ClassNames","_Ripple","_ObjectUtils","_Locale","__esModule","default","_getRequireWildcardCache","WeakMap","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_createForOfIteratorHelper","o","allowArrayLike","it","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","return","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","minLen","_arrayLikeToArray","toString","slice","name","from","test","iter","len","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","getPrototypeOf","_defineProperty","_Component","_super","_this","state","files","msgs","focused","choose","bind","upload","clear","onFileSelect","onDragEnter","onDragOver","onDragLeave","onDrop","onKeyDown","onFocus","onBlur","onSimpleUploaderClick","duplicateIEEvent","hasFiles","isImage","file","type","chooseDisabled","disabled","fileLimit","uploadedFileCount","uploadDisabled","cancelDisabled","chooseButtonLabel","chooseLabel","chooseOptions","label","localeOption","uploadButtonLabel","uploadLabel","uploadOptions","cancelButtonLabel","cancelLabel","cancelOptions","remove","event","index","clearInputElement","currentFiles","removedFile","splice","setState","onRemove","originalEvent","fileInput","clearIEInput","formatSize","bytes","k","dm","sizes","Math","floor","log","parseFloat","pow","toFixed","_this2","isIE11","dataTransfer","isFileSelected","validate","objectURL","window","URL","createObjectURL","push","auto","onSelect","mode","style","display","_iterator","_step","sFile","size","document","maxFileSize","message","severity","summary","invalidFileSizeMessageSummary","replace","detail","invalidFileSizeMessageDetail","messagesUI","show","onValidationFail","_this3","customUpload","uploadHandler","xhr","XMLHttpRequest","formData","FormData","onBeforeUpload","_iterator2","_step2","append","addEventListener","lengthComputable","progress","round","loaded","total","onProgress","onreadystatechange","readyState","status","onUpload","onError","open","url","onBeforeSend","withCredentials","send","onClear","click","which","stopPropagation","preventDefault","addClass","content","removeClass","allowDrop","multiple","renderChooseButton","_this4","_this$props$chooseOpt","className","icon","iconOnly","chooseClassName","classNames","chooseIconClassName","labelClassName","createElement","dangerouslySetInnerHTML","__html","onClick","tabIndex","ref","el","onChange","accept","Ripple","renderFile","_this5","preview","alt","role","src","width","previewWidth","fileName","removeButton","Button","Fragment","itemTemplate","defaultContentOptions","previewElement","fileNameElement","sizeElement","removeElement","element","getJSXElement","renderFiles","_this6","map","renderEmptyContent","emptyTemplate","renderAdvanced","_this7","headerClassName","contentClassName","uploadButton","cancelButton","filesList","progressBar","chooseButton","emptyContent","ProgressBar","showValue","header","headerStyle","headerTemplate","id","contentStyle","Messages","renderBasic","_this8","buttonClassName","iconClassName","onMouseUp","render","Component","widthCredentials","string","bool","number","object","any","func"],"mappings":"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","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FileUpload = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _Button = require(\"../button/Button\");\n\nvar _Messages = require(\"../messages/Messages\");\n\nvar _ProgressBar = require(\"../progressbar/ProgressBar\");\n\nvar _DomHandler = _interopRequireDefault(require(\"../utils/DomHandler\"));\n\nvar _ClassNames = require(\"../utils/ClassNames\");\n\nvar _Ripple = require(\"../ripple/Ripple\");\n\nvar _ObjectUtils = _interopRequireDefault(require(\"../utils/ObjectUtils\"));\n\nvar _Locale = require(\"../api/Locale\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar FileUpload = /*#__PURE__*/function (_Component) {\n  _inherits(FileUpload, _Component);\n\n  var _super = _createSuper(FileUpload);\n\n  function FileUpload(props) {\n    var _this;\n\n    _classCallCheck(this, FileUpload);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      files: [],\n      msgs: [],\n      focused: false\n    };\n    _this.choose = _this.choose.bind(_assertThisInitialized(_this));\n    _this.upload = _this.upload.bind(_assertThisInitialized(_this));\n    _this.clear = _this.clear.bind(_assertThisInitialized(_this));\n    _this.onFileSelect = _this.onFileSelect.bind(_assertThisInitialized(_this));\n    _this.onDragEnter = _this.onDragEnter.bind(_assertThisInitialized(_this));\n    _this.onDragOver = _this.onDragOver.bind(_assertThisInitialized(_this));\n    _this.onDragLeave = _this.onDragLeave.bind(_assertThisInitialized(_this));\n    _this.onDrop = _this.onDrop.bind(_assertThisInitialized(_this));\n    _this.onKeyDown = _this.onKeyDown.bind(_assertThisInitialized(_this));\n    _this.onFocus = _this.onFocus.bind(_assertThisInitialized(_this));\n    _this.onBlur = _this.onBlur.bind(_assertThisInitialized(_this));\n    _this.onSimpleUploaderClick = _this.onSimpleUploaderClick.bind(_assertThisInitialized(_this));\n    _this.duplicateIEEvent = false;\n    return _this;\n  }\n\n  _createClass(FileUpload, [{\n    key: \"hasFiles\",\n    value: function hasFiles() {\n      return this.state.files && this.state.files.length > 0;\n    }\n  }, {\n    key: \"isImage\",\n    value: function isImage(file) {\n      return /^image\\//.test(file.type);\n    }\n  }, {\n    key: \"chooseDisabled\",\n    value: function chooseDisabled() {\n      return this.props.disabled || this.props.fileLimit && this.props.fileLimit <= this.state.files.length + this.uploadedFileCount;\n    }\n  }, {\n    key: \"uploadDisabled\",\n    value: function uploadDisabled() {\n      return this.props.disabled || !this.hasFiles();\n    }\n  }, {\n    key: \"cancelDisabled\",\n    value: function cancelDisabled() {\n      return this.props.disabled || !this.hasFiles();\n    }\n  }, {\n    key: \"chooseButtonLabel\",\n    value: function chooseButtonLabel() {\n      return this.props.chooseLabel || this.props.chooseOptions.label || (0, _Locale.localeOption)('choose');\n    }\n  }, {\n    key: \"uploadButtonLabel\",\n    value: function uploadButtonLabel() {\n      return this.props.uploadLabel || this.props.uploadOptions.label || (0, _Locale.localeOption)('upload');\n    }\n  }, {\n    key: \"cancelButtonLabel\",\n    value: function cancelButtonLabel() {\n      return this.props.cancelLabel || this.props.cancelOptions.label || (0, _Locale.localeOption)('cancel');\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(event, index) {\n      this.clearInputElement();\n\n      var currentFiles = _toConsumableArray(this.state.files);\n\n      var removedFile = this.state.files[index];\n      currentFiles.splice(index, 1);\n      this.setState({\n        files: currentFiles\n      });\n\n      if (this.props.onRemove) {\n        this.props.onRemove({\n          originalEvent: event,\n          file: removedFile\n        });\n      }\n    }\n  }, {\n    key: \"clearInputElement\",\n    value: function clearInputElement() {\n      this.fileInput.value = '';\n    }\n  }, {\n    key: \"clearIEInput\",\n    value: function clearIEInput() {\n      if (this.fileInput) {\n        this.duplicateIEEvent = true; //IE11 fix to prevent onFileChange trigger again\n\n        this.fileInput.value = '';\n      }\n    }\n  }, {\n    key: \"formatSize\",\n    value: function formatSize(bytes) {\n      if (bytes === 0) {\n        return '0 B';\n      }\n\n      var k = 1000,\n          dm = 3,\n          sizes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n          i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n    }\n  }, {\n    key: \"onFileSelect\",\n    value: function onFileSelect(event) {\n      var _this2 = this;\n\n      if (event.type !== 'drop' && this.isIE11() && this.duplicateIEEvent) {\n        this.duplicateIEEvent = false;\n        return;\n      }\n\n      this.setState({\n        msgs: []\n      });\n      this.files = this.state.files || [];\n      var files = event.dataTransfer ? event.dataTransfer.files : event.target.files;\n\n      for (var i = 0; i < files.length; i++) {\n        var file = files[i];\n\n        if (!this.isFileSelected(file)) {\n          if (this.validate(file)) {\n            if (this.isImage(file)) {\n              file.objectURL = window.URL.createObjectURL(file);\n            }\n\n            this.files.push(file);\n          }\n        }\n      }\n\n      this.setState({\n        files: this.files\n      }, function () {\n        if (_this2.hasFiles() && _this2.props.auto) {\n          _this2.upload();\n        }\n      });\n\n      if (this.props.onSelect) {\n        this.props.onSelect({\n          originalEvent: event,\n          files: files\n        });\n      }\n\n      if (event.type !== 'drop' && this.isIE11()) {\n        this.clearIEInput();\n      } else {\n        this.clearInputElement();\n      }\n\n      if (this.props.mode === 'basic' && this.files.length > 0) {\n        this.fileInput.style.display = 'none';\n      }\n    }\n  }, {\n    key: \"isFileSelected\",\n    value: function isFileSelected(file) {\n      var _iterator = _createForOfIteratorHelper(this.state.files),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var sFile = _step.value;\n          if (sFile.name + sFile.type + sFile.size === file.name + file.type + file.size) return true;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return false;\n    }\n  }, {\n    key: \"isIE11\",\n    value: function isIE11() {\n      return !!window['MSInputMethodContext'] && !!document['documentMode'];\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(file) {\n      if (this.props.maxFileSize && file.size > this.props.maxFileSize) {\n        var message = {\n          severity: 'error',\n          summary: this.props.invalidFileSizeMessageSummary.replace('{0}', file.name),\n          detail: this.props.invalidFileSizeMessageDetail.replace('{0}', this.formatSize(this.props.maxFileSize))\n        };\n\n        if (this.props.mode === 'advanced') {\n          this.messagesUI.show(message);\n        }\n\n        if (this.props.onValidationFail) {\n          this.props.onValidationFail(file);\n        }\n\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"upload\",\n    value: function upload() {\n      var _this3 = this;\n\n      if (this.props.customUpload) {\n        if (this.props.fileLimit) {\n          this.uploadedFileCount += this.state.files.length;\n        }\n\n        if (this.props.uploadHandler) {\n          this.props.uploadHandler({\n            files: this.state.files\n          });\n        }\n      } else {\n        this.setState({\n          msgs: []\n        });\n        var xhr = new XMLHttpRequest();\n        var formData = new FormData();\n\n        if (this.props.onBeforeUpload) {\n          this.props.onBeforeUpload({\n            'xhr': xhr,\n            'formData': formData\n          });\n        }\n\n        var _iterator2 = _createForOfIteratorHelper(this.state.files),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var file = _step2.value;\n            formData.append(this.props.name, file, file.name);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        xhr.upload.addEventListener('progress', function (event) {\n          if (event.lengthComputable) {\n            _this3.setState({\n              progress: Math.round(event.loaded * 100 / event.total)\n            }, function () {\n              if (_this3.props.onProgress) {\n                _this3.props.onProgress({\n                  originalEvent: event,\n                  progress: _this3.state.progress\n                });\n              }\n\n              ;\n            });\n          }\n        });\n\n        xhr.onreadystatechange = function () {\n          if (xhr.readyState === 4) {\n            _this3.setState({\n              progress: 0\n            });\n\n            if (xhr.status >= 200 && xhr.status < 300) {\n              if (_this3.props.fileLimit) {\n                _this3.uploadedFileCount += _this3.state.files.length;\n              }\n\n              if (_this3.props.onUpload) {\n                _this3.props.onUpload({\n                  xhr: xhr,\n                  files: _this3.state.files\n                });\n              }\n            } else {\n              if (_this3.props.onError) {\n                _this3.props.onError({\n                  xhr: xhr,\n                  files: _this3.state.files\n                });\n              }\n            }\n\n            _this3.clear();\n          }\n        };\n\n        xhr.open('POST', this.props.url, true);\n\n        if (this.props.onBeforeSend) {\n          this.props.onBeforeSend({\n            'xhr': xhr,\n            'formData': formData\n          });\n        }\n\n        xhr.withCredentials = this.props.withCredentials;\n        xhr.send(formData);\n      }\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.setState({\n        files: []\n      });\n\n      if (this.props.onClear) {\n        this.props.onClear();\n      }\n\n      this.clearInputElement();\n    }\n  }, {\n    key: \"choose\",\n    value: function choose() {\n      this.fileInput.click();\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus() {\n      this.setState({\n        focused: true\n      });\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur() {\n      this.setState({\n        focused: false\n      });\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(event) {\n      if (event.which === 13) {\n        // enter\n        this.choose();\n      }\n    }\n  }, {\n    key: \"onDragEnter\",\n    value: function onDragEnter(event) {\n      if (!this.props.disabled) {\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"onDragOver\",\n    value: function onDragOver(event) {\n      if (!this.props.disabled) {\n        _DomHandler.default.addClass(this.content, 'p-fileupload-highlight');\n\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"onDragLeave\",\n    value: function onDragLeave(event) {\n      if (!this.props.disabled) {\n        _DomHandler.default.removeClass(this.content, 'p-fileupload-highlight');\n      }\n    }\n  }, {\n    key: \"onDrop\",\n    value: function onDrop(event) {\n      if (!this.props.disabled) {\n        _DomHandler.default.removeClass(this.content, 'p-fileupload-highlight');\n\n        event.stopPropagation();\n        event.preventDefault();\n        var files = event.dataTransfer ? event.dataTransfer.files : event.target.files;\n        var allowDrop = this.props.multiple || files && files.length === 1;\n\n        if (allowDrop) {\n          this.onFileSelect(event);\n        }\n      }\n    }\n  }, {\n    key: \"onSimpleUploaderClick\",\n    value: function onSimpleUploaderClick() {\n      if (this.hasFiles()) {\n        this.upload();\n      } else {\n        this.fileInput.click();\n      }\n    }\n  }, {\n    key: \"renderChooseButton\",\n    value: function renderChooseButton() {\n      var _this4 = this;\n\n      var _this$props$chooseOpt = this.props.chooseOptions,\n          className = _this$props$chooseOpt.className,\n          style = _this$props$chooseOpt.style,\n          icon = _this$props$chooseOpt.icon,\n          iconOnly = _this$props$chooseOpt.iconOnly;\n      var chooseClassName = (0, _ClassNames.classNames)('p-button p-fileupload-choose p-component', {\n        'p-disabled': this.props.disabled,\n        'p-focus': this.state.focused,\n        'p-button-icon-only': iconOnly\n      }, className);\n      var chooseIconClassName = (0, _ClassNames.classNames)('p-button-icon p-button-icon-left p-clickable', {\n        'pi pi-fw pi-plus': !icon\n      }, icon);\n      var labelClassName = 'p-button-label p-clickable';\n      var label = iconOnly ? /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: labelClassName,\n        dangerouslySetInnerHTML: {\n          __html: \"&nbsp;\"\n        }\n      }) : /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: labelClassName\n      }, this.chooseButtonLabel());\n      return /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: chooseClassName,\n        style: style,\n        onClick: this.choose,\n        onKeyDown: this.onKeyDown,\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        tabIndex: 0\n      }, /*#__PURE__*/_react.default.createElement(\"input\", {\n        ref: function ref(el) {\n          return _this4.fileInput = el;\n        },\n        type: \"file\",\n        onChange: this.onFileSelect,\n        multiple: this.props.multiple,\n        accept: this.props.accept,\n        disabled: this.chooseDisabled()\n      }), /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: chooseIconClassName\n      }), label, /*#__PURE__*/_react.default.createElement(_Ripple.Ripple, null));\n    }\n  }, {\n    key: \"renderFile\",\n    value: function renderFile(file, index) {\n      var _this5 = this;\n\n      var preview = this.isImage(file) ? /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(\"img\", {\n        alt: file.name,\n        role: \"presentation\",\n        src: file.objectURL,\n        width: this.props.previewWidth\n      })) : null;\n\n      var fileName = /*#__PURE__*/_react.default.createElement(\"div\", null, file.name);\n\n      var size = /*#__PURE__*/_react.default.createElement(\"div\", null, this.formatSize(file.size));\n\n      var removeButton = /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(_Button.Button, {\n        type: \"button\",\n        icon: \"pi pi-times\",\n        onClick: function onClick(e) {\n          return _this5.remove(e, index);\n        }\n      }));\n\n      var content = /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, preview, fileName, size, removeButton);\n\n      if (this.props.itemTemplate) {\n        var defaultContentOptions = {\n          onRemove: function onRemove(event) {\n            return _this5.remove(event, index);\n          },\n          previewElement: preview,\n          fileNameElement: fileName,\n          sizeElement: size,\n          removeElement: removeButton,\n          formatSize: this.formatSize(file.size),\n          element: content,\n          props: this.props\n        };\n        content = _ObjectUtils.default.getJSXElement(this.props.itemTemplate, file, defaultContentOptions);\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"p-fileupload-row\",\n        key: file.name + file.type + file.size\n      }, content);\n    }\n  }, {\n    key: \"renderFiles\",\n    value: function renderFiles() {\n      var _this6 = this;\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"p-fileupload-files\"\n      }, this.state.files.map(function (file, index) {\n        return _this6.renderFile(file, index);\n      }));\n    }\n  }, {\n    key: \"renderEmptyContent\",\n    value: function renderEmptyContent() {\n      if (this.props.emptyTemplate && !this.hasFiles()) {\n        return _ObjectUtils.default.getJSXElement(this.props.emptyTemplate, this.props);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderAdvanced\",\n    value: function renderAdvanced() {\n      var _this7 = this;\n\n      var className = (0, _ClassNames.classNames)('p-fileupload p-fileupload-advanced p-component', this.props.className);\n      var headerClassName = (0, _ClassNames.classNames)('p-fileupload-buttonbar', this.props.headerClassName);\n      var contentClassName = (0, _ClassNames.classNames)('p-fileupload-content', this.props.contentClassName);\n      var uploadButton, cancelButton, filesList, progressBar;\n      var chooseButton = this.renderChooseButton();\n      var emptyContent = this.renderEmptyContent();\n\n      if (!this.props.auto) {\n        var uploadOptions = this.props.uploadOptions;\n        var cancelOptions = this.props.cancelOptions;\n        var uploadLabel = !uploadOptions.iconOnly ? this.uploadButtonLabel() : '';\n        var cancelLabel = !cancelOptions.iconOnly ? this.cancelButtonLabel() : '';\n        uploadButton = /*#__PURE__*/_react.default.createElement(_Button.Button, {\n          type: \"button\",\n          label: uploadLabel,\n          icon: uploadOptions.icon || 'pi pi-upload',\n          onClick: this.upload,\n          disabled: this.uploadDisabled(),\n          style: uploadOptions.style,\n          className: uploadOptions.className\n        });\n        cancelButton = /*#__PURE__*/_react.default.createElement(_Button.Button, {\n          type: \"button\",\n          label: cancelLabel,\n          icon: cancelOptions.icon || 'pi pi-times',\n          onClick: this.clear,\n          disabled: this.cancelDisabled(),\n          style: cancelOptions.style,\n          className: cancelOptions.className\n        });\n      }\n\n      if (this.hasFiles()) {\n        filesList = this.renderFiles();\n        progressBar = /*#__PURE__*/_react.default.createElement(_ProgressBar.ProgressBar, {\n          value: this.state.progress,\n          showValue: false\n        });\n      }\n\n      var header = /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: headerClassName,\n        style: this.props.headerStyle\n      }, chooseButton, uploadButton, cancelButton);\n\n      if (this.props.headerTemplate) {\n        var defaultContentOptions = {\n          className: headerClassName,\n          chooseButton: chooseButton,\n          uploadButton: uploadButton,\n          cancelButton: cancelButton,\n          element: header,\n          props: this.props\n        };\n        header = _ObjectUtils.default.getJSXElement(this.props.headerTemplate, defaultContentOptions);\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        id: this.props.id,\n        className: className,\n        style: this.props.style\n      }, header, /*#__PURE__*/_react.default.createElement(\"div\", {\n        ref: function ref(el) {\n          _this7.content = el;\n        },\n        className: contentClassName,\n        style: this.props.contentStyle,\n        onDragEnter: this.onDragEnter,\n        onDragOver: this.onDragOver,\n        onDragLeave: this.onDragLeave,\n        onDrop: this.onDrop\n      }, progressBar, /*#__PURE__*/_react.default.createElement(_Messages.Messages, {\n        ref: function ref(el) {\n          return _this7.messagesUI = el;\n        }\n      }), filesList, emptyContent));\n    }\n  }, {\n    key: \"renderBasic\",\n    value: function renderBasic() {\n      var _this8 = this;\n\n      var chooseOptions = this.props.chooseOptions;\n      var className = (0, _ClassNames.classNames)('p-fileupload p-fileupload-basic p-component', this.props.className);\n      var buttonClassName = (0, _ClassNames.classNames)('p-button p-component p-fileupload-choose', {\n        'p-fileupload-choose-selected': this.hasFiles(),\n        'p-disabled': this.props.disabled,\n        'p-focus': this.state.focused\n      }, chooseOptions.className);\n      var iconClassName = (0, _ClassNames.classNames)('p-button-icon p-button-icon-left pi', {\n        'pi-plus': !chooseOptions.icon && (!this.hasFiles() || this.props.auto),\n        'pi-upload': !chooseOptions.icon && this.hasFiles() && !this.props.auto\n      }, chooseOptions.icon);\n      var labelClassName = 'p-button-label p-clickable';\n      var chooseLabel = chooseOptions.iconOnly ? /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: labelClassName,\n        dangerouslySetInnerHTML: {\n          __html: \"&nbsp;\"\n        }\n      }) : /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: labelClassName\n      }, this.chooseButtonLabel());\n      var label = this.props.auto ? chooseLabel : /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: labelClassName\n      }, this.hasFiles() ? this.state.files[0].name : chooseLabel);\n\n      var icon = /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: iconClassName\n      });\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: className,\n        style: this.props.style\n      }, /*#__PURE__*/_react.default.createElement(_Messages.Messages, {\n        ref: function ref(el) {\n          return _this8.messagesUI = el;\n        }\n      }), /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: buttonClassName,\n        style: chooseOptions.style,\n        onMouseUp: this.onSimpleUploaderClick,\n        onKeyDown: this.onKeyDown,\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        tabIndex: 0\n      }, icon, label, !this.hasFiles() && /*#__PURE__*/_react.default.createElement(\"input\", {\n        ref: function ref(el) {\n          return _this8.fileInput = el;\n        },\n        type: \"file\",\n        accept: this.props.accept,\n        multiple: this.props.multiple,\n        disabled: this.props.disabled,\n        onChange: this.onFileSelect\n      }), /*#__PURE__*/_react.default.createElement(_Ripple.Ripple, null)));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.mode === 'advanced') return this.renderAdvanced();else if (this.props.mode === 'basic') return this.renderBasic();\n    }\n  }]);\n\n  return FileUpload;\n}(_react.Component);\n\nexports.FileUpload = FileUpload;\n\n_defineProperty(FileUpload, \"defaultProps\", {\n  id: null,\n  name: null,\n  url: null,\n  mode: 'advanced',\n  multiple: false,\n  accept: null,\n  disabled: false,\n  auto: false,\n  maxFileSize: null,\n  invalidFileSizeMessageSummary: '{0}: Invalid file size, ',\n  invalidFileSizeMessageDetail: 'maximum upload size is {0}.',\n  style: null,\n  className: null,\n  widthCredentials: false,\n  previewWidth: 50,\n  chooseLabel: null,\n  uploadLabel: null,\n  cancelLabel: null,\n  chooseOptions: {\n    label: null,\n    icon: null,\n    iconOnly: false,\n    className: null,\n    style: null\n  },\n  uploadOptions: {\n    label: null,\n    icon: null,\n    iconOnly: false,\n    className: null,\n    style: null\n  },\n  cancelOptions: {\n    label: null,\n    icon: null,\n    iconOnly: false,\n    className: null,\n    style: null\n  },\n  customUpload: false,\n  headerClassName: null,\n  headerStyle: null,\n  contentClassName: null,\n  contentStyle: null,\n  headerTemplate: null,\n  itemTemplate: null,\n  emptyTemplate: null,\n  onBeforeUpload: null,\n  onBeforeSend: null,\n  onUpload: null,\n  onError: null,\n  onClear: null,\n  onSelect: null,\n  onProgress: null,\n  onValidationFail: null,\n  uploadHandler: null,\n  onRemove: null\n});\n\n_defineProperty(FileUpload, \"propTypes\", {\n  id: _propTypes.default.string,\n  name: _propTypes.default.string,\n  url: _propTypes.default.string,\n  mode: _propTypes.default.string,\n  multiple: _propTypes.default.bool,\n  accept: _propTypes.default.string,\n  disabled: _propTypes.default.bool,\n  auto: _propTypes.default.bool,\n  maxFileSize: _propTypes.default.number,\n  invalidFileSizeMessageSummary: _propTypes.default.string,\n  invalidFileSizeMessageDetail: _propTypes.default.string,\n  style: _propTypes.default.object,\n  className: _propTypes.default.string,\n  widthCredentials: _propTypes.default.bool,\n  previewWidth: _propTypes.default.number,\n  chooseLabel: _propTypes.default.string,\n  uploadLabel: _propTypes.default.string,\n  cancelLabel: _propTypes.default.string,\n  chooseOptions: _propTypes.default.object,\n  uploadOptions: _propTypes.default.object,\n  cancelOptions: _propTypes.default.object,\n  customUpload: _propTypes.default.bool,\n  headerClassName: _propTypes.default.string,\n  headerStyle: _propTypes.default.object,\n  contentClassName: _propTypes.default.string,\n  contentStyle: _propTypes.default.object,\n  headerTemplate: _propTypes.default.any,\n  itemTemplate: _propTypes.default.any,\n  emptyTemplate: _propTypes.default.any,\n  onBeforeUpload: _propTypes.default.func,\n  onBeforeSend: _propTypes.default.func,\n  onUpload: _propTypes.default.func,\n  onError: _propTypes.default.func,\n  onClear: _propTypes.default.func,\n  onSelect: _propTypes.default.func,\n  onProgress: _propTypes.default.func,\n  onValidationFail: _propTypes.default.func,\n  uploadHandler: _propTypes.default.func,\n  onRemove: _propTypes.default.func\n});"]},"metadata":{},"sourceType":"script"}